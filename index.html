<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StyleHub - 服裝設計</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #f8f9fa;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .tag {
            position: absolute;
            top: 0.75rem;
            left: 0.75rem;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        /* Modal thumbnail active border */
        .thumbnail-active {
            border-color: #4f46e5; /* indigo-600 */
            outline: 2px solid #4f46e5;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-40">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-gray-800">
                <a href="#">Style<span class="text-indigo-600">Hub</span></a>
            </div>
            <div class="hidden md:flex space-x-8">
                <a href="#hot-items" class="text-gray-600 hover:text-indigo-600">熱門服裝</a>
                <a href="#in-stock" class="text-gray-600 hover:text-indigo-600">現貨服裝</a>
                <a href="#contact" class="text-gray-600 hover:text-indigo-600">聯絡我們</a>
            </div>
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-gray-600 focus:outline-none">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#hot-items" class="block py-2 text-gray-600 hover:text-indigo-600">熱門服裝</a>
            <a href="#in-stock" class="block py-2 text-gray-600 hover:text-indigo-600">現貨服裝</a>
            <a href="#contact" class="block py-2 text-gray-600 hover:text-indigo-600">聯絡我們</a>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-indigo-100">
        <div class="container mx-auto px-6 py-16 md:py-24 flex flex-col md:flex-row items-center">
            <div class="md:w-1/2 text-center md:text-left mb-10 md:mb-0">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">2025 夏季系列</h1>
                <p class="text-lg text-gray-600 mb-8">探索最新潮流，定義屬於你的夏日風格。</p>
                <a href="#in-stock" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-full hover:bg-indigo-700 transition duration-300">立即選購</a>
            </div>
            <div class="md:w-1/2">
                <img src="https://placehold.co/600x400/e9d5ff/4338ca?text=Summer+Vibes" alt="夏季系列主視覺" class="rounded-lg shadow-xl w-full">
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12">

        <!-- 熱門服裝 Section -->
        <section id="hot-items" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-2">熱門服裝</h2>
            <p class="text-center text-gray-500 mb-8">設計師精選，本季不容錯過的時尚單品。</p>
            <div id="hot-items-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Hot items will be dynamically inserted here -->
            </div>
        </section>

        <!-- 現貨服裝 Section -->
        <section id="in-stock" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-2">現貨服裝</h2>
            <p class="text-center text-gray-500 mb-8">無需等待，下單後立即為您出貨。</p>
            <div id="instock-items-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- In-stock items will be dynamically inserted here -->
            </div>
             <div id="no-stock-message" class="text-center py-12 text-gray-500 hidden">
                <i class="fas fa-box-open text-4xl mb-4"></i>
                <p>目前所有現貨商品皆已售罄，敬請期待補貨！</p>
            </div>
        </section>
        
        <!-- 聯絡我們 Section -->
        <section id="contact" class="bg-white p-8 rounded-lg shadow-md">
            <h2 class="text-3xl font-bold text-center mb-2">聯絡我們</h2>
            <p class="text-center text-gray-500 mb-8">有任何問題或合作提案？歡迎隨時與我們聯繫！</p>
            <div class="max-w-xl mx-auto text-center">
                 <p class="text-lg mb-2"><i class="fas fa-envelope mr-2 text-indigo-500"></i>電子郵件: <a href="mailto:hello@stylehub.com" class="text-indigo-600 hover:underline">hello@stylehub.com</a></p>
                 <p class="text-lg mb-2"><i class="fas fa-phone mr-2 text-indigo-500"></i>客服電話: <a href="tel:02-1234-5678" class="text-indigo-600 hover:underline">02-1234-5678</a></p>
                 <p class="text-lg"><i class="fas fa-map-marker-alt mr-2 text-indigo-500"></i>公司地址: 台北市信義區時尚路123號</p>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto px-6 py-8">
            <div class="text-center">
                <p>StyleHub &copy; 2025. All Rights Reserved.</p>
                <p class="text-sm text-gray-400">這是一個模擬網站，用於功能展示。</p>
            </div>
        </div>
    </footer>
    
    <!-- === 商品圖片瀏覽 Modal === -->
    <div id="image-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden transition-opacity duration-300">
        <div class="bg-white rounded-lg shadow-xl m-4 max-w-4xl w-full relative transform scale-95 transition-transform duration-300">
            <!-- Close Button -->
            <button id="modal-close-button" class="absolute -top-4 -right-4 bg-white text-gray-700 w-10 h-10 rounded-full flex items-center justify-center shadow-lg hover:bg-gray-200 hover:text-black focus:outline-none z-10">
                <i class="fas fa-times text-xl"></i>
            </button>
            <div class="p-4 md:p-6">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
                    <!-- Main Image -->
                    <div class="lg:col-span-2">
                        <img id="modal-main-image" src="" alt="Product Detail" class="w-full h-auto max-h-[75vh] object-contain rounded-md bg-gray-100">
                    </div>
                    <!-- Product Info & Thumbnails -->
                    <div class="flex flex-col">
                        <div>
                             <h3 id="modal-product-name" class="text-2xl font-bold text-gray-800 mb-2"></h3>
                             <p id="modal-product-price" class="text-xl font-medium text-indigo-600 mb-4"></p>
                             <p id="modal-product-description" class="text-gray-600 mb-6"></p>
                        </div>
                        <div class="mt-auto">
                            <p class="text-sm font-semibold text-gray-700 mb-2">不同角度</p>
                             <div id="modal-thumbnails" class="flex gap-2 pb-2 overflow-x-auto">
                                <!-- Thumbnail images will be inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // --- 資料管理 ---
        // 為了展示多圖功能，我們更新了資料結構
        const initialProducts = [
             {
                id: 1,
                name: '法式亞麻寬鬆襯衫',
                sku: 'SHIRT-LNN-001',
                price: 1280,
                stock: 15,
                imageUrls: [
                    'images/S__11395077_0.jpg',
                    'images/S__11395078_0.jpg'
                ],
                description: '採用高級亞麻製成，透氣舒適，是夏日衣櫥的必備單品。經典剪裁，適合各種場合穿搭。',
                is_featured: true,
            },
            {
                id: 2,
                name: '高腰直筒牛仔褲',
                sku: 'JEANS-STR-002',
                price: 1880,
                stock: 8,
                imageUrls: [
                    'images/S__11395079_0.jpg',
                    'images/S__11395080_0.jpg'
                ],
                description: '經典直筒剪裁，修飾腿型，打造復古時尚感。水洗工藝帶來自然色落，百搭耐穿。',
                is_featured: true,
            },
            {
                id: 3,
                name: '都會防潑水風衣',
                sku: 'COAT-TRCH-001',
                price: 2980,
                stock: 5,
                imageUrls: [
                    'images/S__11264004_0.jpg',
                    'images/S__11264005_0.jpg',
                    'images/S__11264006_0.jpg',
                    'images/S__11264007_0.jpg'
                ],
                description: '輕量化防潑水面料，適合多變的都市天氣，兼具機能與時尚。附可拆式腰帶，打造不同造型。',
                is_featured: false,
            },
            {
                id: 4,
                name: '純棉印花 T-Shirt',
                sku: 'TEE-PRNT-005',
                price: 790,
                stock: 30,
                imageUrls: [
                    'images/S__11403271_0.jpg',
                    'images/S__11403272_0.jpg'
                ],
                description: '柔軟的100%純棉，搭配原創設計印花，展現個人特色。舒適親膚，日常穿搭首選。',
                is_featured: true,
            },
            {
                id: 5,
                name: 'A字雪紡長裙',
                sku: 'SKIRT-CHF-003',
                price: 1580,
                stock: 0,
                imageUrls: [
                    'images/S__11403281_0.jpg',
                    'images/S__11403282_0.jpg',
                    'images/S__11403283_0.jpg',
                    'images/S__11403284_0.jpg'
                ],
                description: '飄逸的雪紡材質，優雅的A字剪裁，散發浪漫氣息。內裡舒適，行走間搖曳生姿。',
                is_featured: true,
            }
        ];

        // 模擬從資料庫獲取資料
        function getProducts() {
			return initialProducts;
        }
        
        let products = getProducts();

        // --- DOM 元素 ---
        const hotItemsGrid = document.getElementById('hot-items-grid');
        const inStockGrid = document.getElementById('instock-items-grid');
        const noStockMessage = document.getElementById('no-stock-message');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        
        // Modal DOM 元素
        const imageModal = document.getElementById('image-modal');
        const modalCloseButton = document.getElementById('modal-close-button');
        const modalMainImage = document.getElementById('modal-main-image');
        const modalThumbnails = document.getElementById('modal-thumbnails');
        const modalProductName = document.getElementById('modal-product-name');
        const modalProductPrice = document.getElementById('modal-product-price');
        const modalProductDescription = document.getElementById('modal-product-description');


        // --- 核心功能函式 ---

        /**
         * 產生單一商品卡片的 HTML
         * @param {object} product - 商品物件
         * @returns {string} - HTML 字串
         */
        function createProductCard(product) {
            const stockInfo = product.stock > 0
                ? `<p class="text-sm text-gray-500">庫存: ${product.stock}</p>`
                : `<p class="text-sm text-red-500 font-semibold">已售完</p>`;
            
            const featuredTag = product.is_featured 
                ? `<div class="tag bg-indigo-500 text-white">熱門商品</div>` : '';
            
            const inStockTag = product.stock > 0 && !product.is_featured
                ? `<div class="tag bg-green-500 text-white">現貨供應</div>` : '';

            // 卡片現在帶有 data-product-id 以便識別，並有 cursor-pointer 提示可點擊
            return `
                <div class="bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 card-hover relative cursor-pointer" data-product-id="${product.id}">
                    ${featuredTag}
                    ${inStockTag}
                    <img src="${product.imageUrls[0]}" alt="${product.name}" class="w-full h-80 object-cover" onerror="this.src='https://placehold.co/400x400/cccccc/333333?text=Image+Not+Found'">
                    <div class="p-6">
                        <h3 class="text-lg font-semibold mb-2 truncate">${product.name}</h3>
                        <div class="flex justify-between items-center">
                            <p class="text-xl font-bold text-indigo-600">NT$ ${product.price.toLocaleString()}</p>
                            ${stockInfo}
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * 渲染所有區塊的商品
         */
        function renderAllProducts() {
            products = getProducts(); 

            hotItemsGrid.innerHTML = '';
            inStockGrid.innerHTML = '';

            const featuredProducts = products.filter(p => p.is_featured);
            const inStockProducts = products.filter(p => p.stock > 0);

            if(featuredProducts.length > 0) {
                 featuredProducts.forEach(product => {
                    hotItemsGrid.innerHTML += createProductCard(product);
                });
            } else {
                 hotItemsGrid.innerHTML = `<p class="col-span-full text-center text-gray-500">目前沒有熱門商品。</p>`;
            }
           
            if (inStockProducts.length > 0) {
                inStockGrid.classList.remove('hidden');
                noStockMessage.classList.add('hidden');
                inStockProducts.forEach(product => {
                    inStockGrid.innerHTML += createProductCard(product);
                });
            } else {
                inStockGrid.classList.add('hidden');
                noStockMessage.classList.remove('hidden');
            }
        }
        
        // --- Modal 相關函式 ---

        /**
         * 開啟並填入 Modal 資料
         * @param {number} productId - 商品 ID
         */
        function openImageModal(productId) {
            const product = products.find(p => p.id == productId);
            if (!product) return;

            // 填入商品資訊
            modalProductName.textContent = product.name;
            modalProductPrice.textContent = `NT$ ${product.price.toLocaleString()}`;
            modalProductDescription.textContent = product.description;
            
            // 設定主圖為第一張圖
            modalMainImage.src = product.imageUrls[0];
            modalMainImage.alt = product.name;

            // 產生縮圖
            modalThumbnails.innerHTML = '';
            product.imageUrls.forEach((url, index) => {
                const thumb = document.createElement('img');
                thumb.src = url;
                thumb.alt = `${product.name} - view ${index + 1}`;
                thumb.className = 'w-16 h-20 object-cover rounded-md cursor-pointer border-2 border-transparent hover:border-indigo-400 transition-all';
                // 將 URL 存在 data-attribute 中
                thumb.dataset.fullUrl = url;
                // 給第一張縮圖加上 active 樣式
                if (index === 0) {
                    thumb.classList.add('thumbnail-active');
                }
                modalThumbnails.appendChild(thumb);
            });
            
            // 顯示 modal
            imageModal.classList.remove('hidden');
            // 觸發動畫
            setTimeout(() => {
                imageModal.classList.add('opacity-100');
                imageModal.querySelector('.transform').classList.remove('scale-95');
            }, 10);
        }

        /**
         * 關閉 Modal
         */
        function closeImageModal() {
            imageModal.classList.remove('opacity-100');
            imageModal.querySelector('.transform').classList.add('scale-95');
            setTimeout(() => {
                 imageModal.classList.add('hidden');
            }, 300); // 等待動畫結束
        }


        // --- 事件監聽器 ---
        
        // 頁面載入時渲染商品
        document.addEventListener('DOMContentLoaded', renderAllProducts);

        // 手機版漢堡選單
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                if (!link.hasAttribute('target')) {
                    mobileMenu.classList.add('hidden');
                }
            });
        });

        // 利用事件委派來監聽商品卡片的點擊
        document.querySelector('main').addEventListener('click', (event) => {
            const card = event.target.closest('[data-product-id]');
            if (card) {
                const productId = card.dataset.productId;
                openImageModal(productId);
            }
        });
        
        // 監聽 Modal 關閉按鈕
        modalCloseButton.addEventListener('click', closeImageModal);
        
        // 點擊 Modal 背景也可以關閉
        imageModal.addEventListener('click', (event) => {
            if (event.target === imageModal) {
                closeImageModal();
            }
        });

        // 監聽縮圖點擊事件
        modalThumbnails.addEventListener('click', (event) => {
            if (event.target.tagName === 'IMG') {
                const newSrc = event.target.dataset.fullUrl;
                modalMainImage.src = newSrc;
                
                // 更新 active 樣式
                // 移除所有縮圖的 active class
                modalThumbnails.querySelectorAll('img').forEach(img => img.classList.remove('thumbnail-active'));
                // 為被點擊的縮圖加上 active class
                event.target.classList.add('thumbnail-active');
            }
        });

    </script>
</body>
</html>
